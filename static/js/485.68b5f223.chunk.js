"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[485],{485:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var n=e(8683),r=e(5671),o=e(3144),i=e(136),a=e(516),u=e(2791),l=e(8687),c=e(6508),p=e(2982),f="MyPosts_postsBlock__1ZDzl",d="MyPosts_posts__uw-s5",h="Post_item__26T1C",x="Post_icon__NGdTN",j="Post_message__sqQIs",m="Post_likes__Xxjbv",v=e(184),g=function(t){return(0,v.jsxs)("div",{className:h,id:t.id,children:[(0,v.jsx)("img",{className:x,src:"https://cdn-icons-png.flaticon.com/512/147/147133.png",alt:"icon"}),(0,v.jsx)("p",{className:j,children:t.message}),(0,v.jsx)("div",{className:m,children:(0,v.jsxs)("span",{children:["likes: ",t.likeCount]})})]})},_=e(6139),k=e(704),P=(0,e(7492).E)("textarea"),w=u.memo((function(t){var s=(0,p.Z)(t.posts).reverse().map((function(t){return(0,v.jsx)(g,{id:t.id,message:t.message,likeCount:t.likeCount})}));return(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("h3",{children:"My posts"}),(0,v.jsx)(N,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,v.jsx)("div",{className:d,children:s})]})})),N=(0,k.Z)({form:"ProfileNewPost"})((function(t){return(0,v.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,v.jsx)("div",{children:(0,v.jsx)(_.Z,{component:P,name:"newPostText",placeholder:"Enter new post: "})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{children:"Add post"})})]})})),S=w,Z=(0,l.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){return t((0,c.Wl)(s))}}}))(S),C={profilebg:"ProfileInfo_profilebg__8dG8k",descriptionBlock:"ProfileInfo_descriptionBlock__r6Bra",contacts:"ProfileInfo_contacts__SSXJq"},I=e(8570),b=e(286),T=e(885),y={},B=function(t){var s=(0,u.useState)(!1),e=(0,T.Z)(s,2),n=e[0],r=e[1],o=(0,u.useState)(t.status),i=(0,T.Z)(o,2),a=i[0],l=i[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,v.jsx)(v.Fragment,{children:n?(0,v.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(a)},value:a}):(0,v.jsx)("span",{className:y,onDoubleClick:function(){return r(!0)},children:t.status||"unknown"})})},A=function(t){return t.profile?(0,v.jsx)("div",{className:C.ProfileInfo,children:(0,v.jsxs)("div",{className:C.descriptionBlock,children:[(0,v.jsxs)("div",{className:C.contacts,children:[(0,v.jsxs)("p",{children:["Name: ",null!=t.profile.fullName?t.profile.fullName:"unknown"]}),(0,v.jsxs)("p",{children:["Status: ",(0,v.jsx)(B,{status:t.status,updateStatus:t.updateStatus})]}),(0,v.jsx)("p",{children:"Contacts: "}),(0,v.jsxs)("ul",{children:[(0,v.jsxs)("li",{children:["VK: ",null!=t.profile.contacts.vk?(0,v.jsx)("a",{href:t.profile.contacts.vk,children:t.profile.contacts.vk}):"unknown"," "]}),(0,v.jsxs)("li",{children:["Twitter: ",null!=t.profile.contacts.vk?(0,v.jsx)("a",{href:t.profile.contacts.twitter,children:t.profile.contacts.twitter}):"unknown"]}),(0,v.jsxs)("li",{children:["Instagram: ",null!=t.profile.contacts.vk?(0,v.jsx)("a",{href:t.profile.contacts.instagram,children:t.profile.contacts.instagram}):"unknown"]})]})]}),(0,v.jsx)("div",{className:"userImg",children:(0,v.jsx)("img",{src:null!=t.profile.photos.large?t.profile.photos.large:b,width:"300",height:"300",alt:"userPhoto"})})]})}):(0,v.jsx)(I.Z,{})},M=function(t){return(0,v.jsxs)("div",{children:[(0,v.jsx)(A,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,v.jsx)(Z,{})]})},q=e(7689);var D=function(t){return function(s){var e=(0,q.TH)(),r=(0,q.s0)(),o=(0,q.UO)();return(0,v.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{router:{location:e,navigate:r,params:o}}))}},E=e(7781),U=function(t){(0,i.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId||this.props.authUserId;this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,v.jsx)(M,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(u.Component),F=(0,E.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:c.Ai,getStatus:c.lR,updateStatus:c.Nf}),D)(U)}}]);
//# sourceMappingURL=485.68b5f223.chunk.js.map